<h1 id="head">Eat da burger!</h1>

<div id="img">
  <img src="/public/assets/img/burger.png" alt="burger" width="200px">
</div>

<div id="burgers-divs">
  <div id="not-devoured">
    <h2>Burgers to devour!</h2>

<ul>
  {{#each burgers}}
    {{#unless this.devoured}}
    <li>
      <p>{{id}}. {{burger_name}}</p>
      <button data-burgerid="{{this.id}}" class="devourbtn">Devour</button>
    </li>
      {{> cats/cat-block sleep=true}}
    {{/unless}}
  {{/each}}
</ul>
  </div>

<div id="devoured">
    <h2>Burgers already devoured:</h2>
<ul>
  {{#each burgers}}
    {{#if devoured}}
    <li>
      <p>{{id}}. {{burger_name}}</p>
    </li>
    {{/if}}
  {{/each}}
</ul>
</div>
</div>

<form action="/api/burgers" method="POST">
  <input type="text" name="burger_name" id="name" placeholder="add yummy burger">
<button type="submit" id="submit">submit</button>
</form>

<script type="text/javascript">
$(".devourbtn").on("click", function(event){
  event.preventDefault();
  var id = $(this).data("burgerid");

  $.ajax({
    method: "PUT",
    url: "/api/burgers/" + id
  }).then(
    function(){
      console.log("devoured id", id);
      location.reload
    });

  });

</script>